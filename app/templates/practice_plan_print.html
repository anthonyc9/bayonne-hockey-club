{% extends "base.html" %}

{% block title %}{{ practice_plan.title }} - Print View{% endblock %}

{% block extra_css %}
<style>
@media print {
    body { 
        margin: 0; 
        padding: 0.5in;
        font-size: 11pt;
        line-height: 1.2;
    }
    .no-print { display: none !important; }
    .page-break { page-break-before: always; }
    .card { border: none; box-shadow: none; }
}

.print-container {
    max-width: 8.5in;
    margin: 0 auto;
}

.print-header {
    text-align: center;
    border-bottom: 2px solid #000;
    padding-bottom: 15px;
    margin-bottom: 20px;
}

.print-title {
    font-size: 18pt;
    font-weight: bold;
    text-transform: uppercase;
    margin: 0 0 5px 0;
    letter-spacing: 1px;
}

.print-details {
    font-size: 12pt;
    margin: 5px 0;
}

.print-objectives {
    background: #f8f9fa;
    border: 1px solid #000;
    padding: 10px;
    margin: 15px 0;
    font-size: 10pt;
}

.print-objectives h4 {
    margin: 0 0 8px 0;
    text-transform: uppercase;
    font-weight: bold;
    font-size: 11pt;
}

.print-objectives ol {
    margin: 0;
    padding-left: 20px;
}

.print-objectives li {
    margin-bottom: 3px;
}

.activity-section {
    margin: 20px 0;
    page-break-inside: avoid;
}

.activity-header {
    background: #000;
    color: white;
    padding: 8px 12px;
    margin-bottom: 15px;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 12pt;
}

.activity-content {
    display: flex;
    gap: 20px;
    min-height: 120px;
}

.activity-text {
    flex: 1;
    padding: 12px;
    border: 1px solid #ddd;
    background: #fff;
}

.activity-notes {
    flex: 1;
    padding: 12px;
    border: 1px solid #ddd;
    background: #f9f9f9;
    position: relative;
}

.activity-notes::before {
    content: 'Notes & Drawings';
    position: absolute;
    top: 5px;
    left: 10px;
    font-size: 9pt;
    color: #666;
    font-style: italic;
}

.activity-text h5 {
    margin: 0 0 8px 0;
    font-size: 11pt;
    font-weight: bold;
    text-transform: uppercase;
    color: #333;
}

.activity-text p {
    margin: 0;
    font-size: 10pt;
    line-height: 1.3;
}

.equipment-section {
    margin: 20px 0;
    padding: 15px;
    border: 1px solid #ddd;
    background: #f8f9fa;
}

.equipment-section h4 {
    margin: 0 0 10px 0;
    font-size: 11pt;
    text-transform: uppercase;
    font-weight: bold;
}

.equipment-content {
    display: flex;
    gap: 30px;
}

.equipment-item {
    flex: 1;
}

.equipment-item h5 {
    margin: 0 0 5px 0;
    font-size: 10pt;
    font-weight: bold;
}

.equipment-item p {
    margin: 0;
    font-size: 10pt;
}

.print-footer {
    margin-top: 30px;
    text-align: center;
    font-size: 8pt;
    color: #666;
    border-top: 1px solid #ddd;
    padding-top: 10px;
}

@media (max-width: 768px) {
    .activity-content {
        flex-direction: column;
    }
    .equipment-content {
        flex-direction: column;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="container-fluid no-print">
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <h1>Print View: {{ practice_plan.title }}</h1>
                <div>
                    <button onclick="window.print()" class="btn btn-primary">
                        <i class="bi bi-printer"></i> Print Practice Plan
                    </button>
                    <a href="{{ url_for('main.view_practice_plan', plan_id=practice_plan.id) }}" class="btn btn-secondary">
                        <i class="bi bi-arrow-left"></i> Back to Plan
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Print Content -->
<div class="print-container">
    <!-- Header -->
    <div class="print-header">
        <h1 class="print-title">{{ practice_plan.title }}</h1>
        <div class="print-details">
            <strong>TEAM:</strong> {{ practice_plan.team.name }} | 
            <strong>DATE:</strong> {{ practice_plan.date.strftime('%B %d, %Y') }} | 
            <strong>DURATION:</strong> {{ practice_plan.duration or '60' }} MIN
        </div>
        
        <div class="print-objectives">
            <h4>Session Objectives:</h4>
            <ol>
                {% if practice_plan.primary_focus %}
                <li>{{ practice_plan.primary_focus }}</li>
                {% endif %}
                {% if practice_plan.secondary_focus and practice_plan.secondary_focus != 'N/A' %}
                <li>{{ practice_plan.secondary_focus }}</li>
                {% endif %}
                {% if practice_plan.warm_up %}
                <li>Warm-up and preparation</li>
                {% endif %}
                {% if practice_plan.main_content %}
                <li>Skill development and practice</li>
                {% endif %}
                {% if practice_plan.cool_down %}
                <li>Cool-down and review</li>
                {% endif %}
            </ol>
        </div>
    </div>

    <!-- Warm Up Section -->
    {% if practice_plan.warm_up %}
    <div class="activity-section">
        <div class="activity-header">
            Warm Up ({{ practice_plan.duration|int // 6 if practice_plan.duration else 10 }} MIN)
        </div>
        <div class="activity-content">
            <div class="activity-text">
                <h5>Warm-up Activities:</h5>
                <p>{{ practice_plan.warm_up }}</p>
            </div>
            <div class="activity-notes">
                <!-- Blank space for coaches' notes and drawings -->
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Main Content Section -->
    {% if practice_plan.main_content %}
    <div class="activity-section">
        <div class="activity-header">
            Skill Stations ({{ practice_plan.duration|int // 3 if practice_plan.duration else 20 }} MIN)
        </div>
        <div class="activity-content">
            <div class="activity-text">
                <h5>Main Practice Activities:</h5>
                <p>{{ practice_plan.main_content }}</p>
            </div>
            <div class="activity-notes">
                <!-- Blank space for coaches' notes and drawings -->
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Cool Down Section -->
    {% if practice_plan.cool_down %}
    <div class="activity-section">
        <div class="activity-header">
            Cool Down ({{ practice_plan.duration|int // 6 if practice_plan.duration else 10 }} MIN)
        </div>
        <div class="activity-content">
            <div class="activity-text">
                <h5>Cool-down Activities:</h5>
                <p>{{ practice_plan.cool_down }}</p>
            </div>
            <div class="activity-notes">
                <!-- Blank space for coaches' notes and drawings -->
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Equipment & Notes Section -->
    {% if practice_plan.equipment_needed or practice_plan.additional_notes %}
    <div class="equipment-section">
        <h4>Additional Information</h4>
        <div class="equipment-content">
            {% if practice_plan.equipment_needed %}
            <div class="equipment-item">
                <h5>Equipment Needed:</h5>
                <p>{{ practice_plan.equipment_needed }}</p>
            </div>
            {% endif %}
            {% if practice_plan.additional_notes %}
            <div class="equipment-item">
                <h5>Additional Notes:</h5>
                <p>{{ practice_plan.additional_notes }}</p>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- Footer -->
    <div class="print-footer">
        <p>Generated by Bayonne Hockey Club Coaches Portal</p>
        <p>{{ practice_plan.date.strftime('%B %d, %Y') }} | {{ practice_plan.team.name }}</p>
    </div>
</div>
{% endblock %}
